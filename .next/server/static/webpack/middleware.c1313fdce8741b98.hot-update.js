"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./middleware.ts":
/*!***********************!*\
  !*** ./middleware.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"config\": () => (/* binding */ config),\n/* harmony export */   \"middleware\": () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(middleware)/./node_modules/next/dist/server/web/exports/next-response.js\");\n\nfunction middleware(req) {\n    // Get custom auth token from Authorization header or cookies\n    const authHeader = req.headers.get(\"authorization\");\n    const tokenFromHeader = authHeader?.startsWith(\"Bearer \") ? authHeader.split(\" \")[1] : null;\n    const tokenFromCookie = req.cookies.get(\"token\")?.value;\n    const token = tokenFromHeader || tokenFromCookie;\n    const isAuth = !!token;\n    const isAuthPage = req.nextUrl.pathname.startsWith(\"/login\") || req.nextUrl.pathname.startsWith(\"/register\");\n    if (isAuthPage) {\n        if (isAuth) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].redirect(new URL(\"/dashboard\", req.url));\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].next();\n    }\n    // Temporarily disabled for development - allow all dashboard access\n    // TODO: Implement proper JWT validation in production\n    // if (!isAuth && req.nextUrl.pathname.startsWith(\"/dashboard\")) {\n    //   let to = encodeURIComponent(req.nextUrl.pathname)\n    //   if (req.nextUrl.search) {\n    //     to = encodeURIComponent(req.nextUrl.pathname + req.nextUrl.search)\n    //   }\n    //   return NextResponse.redirect(\n    //     new URL(`/login?to=${to}`, req.url)\n    //   )\n    // }\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].next();\n}\nconst config = {\n    matcher: [\n        \"/dashboard/:path*\",\n        \"/editor/:path*\",\n        \"/login\",\n        \"/register\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbWlkZGxld2FyZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUQ7QUFFaEQsU0FBU0MsV0FBV0MsR0FBZ0IsRUFBRTtJQUMzQyw2REFBNkQ7SUFDN0QsTUFBTUMsYUFBYUQsSUFBSUUsT0FBTyxDQUFDQyxHQUFHLENBQUM7SUFDbkMsTUFBTUMsa0JBQWtCSCxZQUFZSSxXQUFXLGFBQWFKLFdBQVdLLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUk7SUFDM0YsTUFBTUMsa0JBQWtCUCxJQUFJUSxPQUFPLENBQUNMLEdBQUcsQ0FBQyxVQUFVTTtJQUVsRCxNQUFNQyxRQUFRTixtQkFBbUJHO0lBQ2pDLE1BQU1JLFNBQVMsQ0FBQyxDQUFDRDtJQUVqQixNQUFNRSxhQUNKWixJQUFJYSxPQUFPLENBQUNDLFFBQVEsQ0FBQ1QsVUFBVSxDQUFDLGFBQ2hDTCxJQUFJYSxPQUFPLENBQUNDLFFBQVEsQ0FBQ1QsVUFBVSxDQUFDO0lBRWxDLElBQUlPLFlBQVk7UUFDZCxJQUFJRCxRQUFRO1lBQ1YsT0FBT2IsMkZBQXFCLENBQUMsSUFBSWtCLElBQUksY0FBY2hCLElBQUlpQixHQUFHO1FBQzVELENBQUM7UUFDRCxPQUFPbkIsdUZBQWlCO0lBQzFCLENBQUM7SUFFRCxvRUFBb0U7SUFDcEUsc0RBQXNEO0lBQ3RELGtFQUFrRTtJQUNsRSxzREFBc0Q7SUFDdEQsOEJBQThCO0lBQzlCLHlFQUF5RTtJQUN6RSxNQUFNO0lBRU4sa0NBQWtDO0lBQ2xDLDBDQUEwQztJQUMxQyxNQUFNO0lBQ04sSUFBSTtJQUVKLE9BQU9BLHVGQUFpQjtBQUMxQixDQUFDO0FBRU0sTUFBTXFCLFNBQVM7SUFDcEJDLFNBQVM7UUFBQztRQUFxQjtRQUFrQjtRQUFVO0tBQVk7QUFDekUsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9taWRkbGV3YXJlLnRzPzQyMmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiXG5cbmV4cG9ydCBmdW5jdGlvbiBtaWRkbGV3YXJlKHJlcTogTmV4dFJlcXVlc3QpIHtcbiAgLy8gR2V0IGN1c3RvbSBhdXRoIHRva2VuIGZyb20gQXV0aG9yaXphdGlvbiBoZWFkZXIgb3IgY29va2llc1xuICBjb25zdCBhdXRoSGVhZGVyID0gcmVxLmhlYWRlcnMuZ2V0KCdhdXRob3JpemF0aW9uJylcbiAgY29uc3QgdG9rZW5Gcm9tSGVhZGVyID0gYXV0aEhlYWRlcj8uc3RhcnRzV2l0aCgnQmVhcmVyICcpID8gYXV0aEhlYWRlci5zcGxpdCgnICcpWzFdIDogbnVsbFxuICBjb25zdCB0b2tlbkZyb21Db29raWUgPSByZXEuY29va2llcy5nZXQoJ3Rva2VuJyk/LnZhbHVlXG5cbiAgY29uc3QgdG9rZW4gPSB0b2tlbkZyb21IZWFkZXIgfHwgdG9rZW5Gcm9tQ29va2llXG4gIGNvbnN0IGlzQXV0aCA9ICEhdG9rZW5cbiAgXG4gIGNvbnN0IGlzQXV0aFBhZ2UgPVxuICAgIHJlcS5uZXh0VXJsLnBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvbG9naW5cIikgfHxcbiAgICByZXEubmV4dFVybC5wYXRobmFtZS5zdGFydHNXaXRoKFwiL3JlZ2lzdGVyXCIpXG5cbiAgaWYgKGlzQXV0aFBhZ2UpIHtcbiAgICBpZiAoaXNBdXRoKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KG5ldyBVUkwoXCIvZGFzaGJvYXJkXCIsIHJlcS51cmwpKVxuICAgIH1cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLm5leHQoKVxuICB9XG5cbiAgLy8gVGVtcG9yYXJpbHkgZGlzYWJsZWQgZm9yIGRldmVsb3BtZW50IC0gYWxsb3cgYWxsIGRhc2hib2FyZCBhY2Nlc3NcbiAgLy8gVE9ETzogSW1wbGVtZW50IHByb3BlciBKV1QgdmFsaWRhdGlvbiBpbiBwcm9kdWN0aW9uXG4gIC8vIGlmICghaXNBdXRoICYmIHJlcS5uZXh0VXJsLnBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvZGFzaGJvYXJkXCIpKSB7XG4gIC8vICAgbGV0IHRvID0gZW5jb2RlVVJJQ29tcG9uZW50KHJlcS5uZXh0VXJsLnBhdGhuYW1lKVxuICAvLyAgIGlmIChyZXEubmV4dFVybC5zZWFyY2gpIHtcbiAgLy8gICAgIHRvID0gZW5jb2RlVVJJQ29tcG9uZW50KHJlcS5uZXh0VXJsLnBhdGhuYW1lICsgcmVxLm5leHRVcmwuc2VhcmNoKVxuICAvLyAgIH1cblxuICAvLyAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QoXG4gIC8vICAgICBuZXcgVVJMKGAvbG9naW4/dG89JHt0b31gLCByZXEudXJsKVxuICAvLyAgIClcbiAgLy8gfVxuXG4gIHJldHVybiBOZXh0UmVzcG9uc2UubmV4dCgpXG59XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIG1hdGNoZXI6IFtcIi9kYXNoYm9hcmQvOnBhdGgqXCIsIFwiL2VkaXRvci86cGF0aCpcIiwgXCIvbG9naW5cIiwgXCIvcmVnaXN0ZXJcIl0sXG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwibWlkZGxld2FyZSIsInJlcSIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiZ2V0IiwidG9rZW5Gcm9tSGVhZGVyIiwic3RhcnRzV2l0aCIsInNwbGl0IiwidG9rZW5Gcm9tQ29va2llIiwiY29va2llcyIsInZhbHVlIiwidG9rZW4iLCJpc0F1dGgiLCJpc0F1dGhQYWdlIiwibmV4dFVybCIsInBhdGhuYW1lIiwicmVkaXJlY3QiLCJVUkwiLCJ1cmwiLCJuZXh0IiwiY29uZmlnIiwibWF0Y2hlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./middleware.ts\n");

/***/ })

});